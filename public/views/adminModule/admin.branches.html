<div>
<md-content class="md-padding">
    <md-tabs md-dynamic-height md-border-bottom md-selected="selectedIndex">
        <md-tab label="Branch List">
            <md-content class="md-padding">
                <div>
                    <trendi-search actions="search"></trendi-search>
                    <div style="padding-top: 150px;">
                        <md-button class="md-raised md-primary" ng-click="EditViewController('')"><md-icon md-svg-src="add-circle"></md-icon> Add New Branch</md-button>
                        <div style="padding-top: 20px;">
                            <md-list>
                                <md-list-item ng-repeat="branch in branchList" ng-click="EditViewController(branch)">
                                    <img alt="{{ branch.name }}" ng-src="{{branch.shop.iconImage}}" class="md-avatar" />
                                    <p>{{ branch.shop.name }}</p>
                                    <!-- <md-svg-icon class="ic_24px" icon="{{person.iconimg}}"></md-svg-icon>-->
                                    <md-icon md-svg-icon="communication:ic_settings" ng-click="EditViewController(branch)" aria-label="Open Chat" class="md-secondary md-hue-3" ng-class="{'md-primary': branch.shop.name}"></md-icon>
                                </md-list-item>
                            </md-list>
                        </div>
                    </div>
                </div>
            </md-content>
        </md-tab>
        <md-tab label="{{headerText}}" ng-disabled="selectedIndex == 0">
            <md-content  layout-padding class="md-padding">
                <h5 class="md-display-2">{{headerText}}</h5>
                <form novalidate="" name="itemForm">
                    <div>
                        <div class="col-md-12">
                            <div class="raw">
                                <div class="col-md-6">
                                    <h6>Branch Details</h6>
                                    <md-input-container flex>
                                        <!-- Use floating label instead of placeholder -->
                                        <label>Branch Name</label>
                                        <input ng-model="branch.name" name="branchName" type="text" ng-required="true">
                                        <div ng-messages="itemForm.branchName.$error">
                                            <div ng-message="required">This is required.</div>
                                        </div>

                                    </md-input-container>

                                    <md-input-container flex>
                                        <label>Address</label>
                                        <input ng-model="branch.address.line1">
                                    </md-input-container>
                                    <md-input-container flex>
                                        <label>Address 2</label>
                                        <input ng-model="branch.address.line2">
                                    </md-input-container>
                                    <div layout layout-sm="column">
                                        <md-input-container flex>
                                            <label>City</label>
                                            <input ng-model="branch.address.city">
                                        </md-input-container>
                                        <md-input-container flex>
                                            <label>State</label>
                                            <input ng-model="branch.address.state">
                                        </md-input-container>
                                        <md-input-container flex>
                                            <label>Postal Code</label>
                                            <input ng-model="branch.address.postalCode">
                                        </md-input-container>
                                    </div>
                                    <div layout layout-sm="column">
                                        <md-input-container flex>
                                            <label>Hotline</label>
                                            <input ng-model="branch.hotline">
                                        </md-input-container>
                                        <md-input-container flex>
                                            <label>Mobile</label>
                                            <input ng-model="branch.mobile">
                                        </md-input-container>
                                    </div>
                                    <md-input-container flex>
                                        <label>Description</label>
                                        <input md-maxlength="100" name="description" ng-model="branch.description">
                                        <div ng-messages="itemForm.description.$error">
                                            <div ng-message="md-maxlength">The name has to be less than 100 characters long.</div>
                                        </div>
                                    </md-input-container>
                                </div>

                            </div>
                            <div class="raw">
                                <div class="col-md-6">
                                    <div class="map_container" ng-if="initDirective">
                                        <trendi-map get-point="branch.pos"></trendi-map>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div ng-if="initDirective">
                                        <trendi-file-upload files="tmp.iconImage" image-size="iconSize" image-count="1"></trendi-file-upload>
                                    </div>
                                </div>
                            </div>


                            <div class="raw">
                                <div class="col-md-8">
                                    <div class="md-actions" layout="row">
                                        <div ng-if="addNew">
                                            <md-button  class="md-raised md-primary" ng-disabled="itemForm.$invalid || btnPressed" ng-click="answer(1)" md-autofocus>
                                                Save
                                            </md-button>
                                            <span flex></span>
                                        </div>
                                        <div ng-if="!addNew">
                                            <md-button class="md-raised md-primary" ng-disabled="itemForm.$invalid || btnPressed" ng-click="answer(2)" md-autofocus>
                                                Update
                                            </md-button>
                                            <span flex></span>
                                            <md-button class="md-raised md-warn" ng-disabled="btnPressed" ng-click="answer(0)" >
                                                Remove
                                            </md-button>
                                        </div>

                                        <md-button ng-click="close('2')" style="margin-right:20px;" >
                                            Close
                                        </md-button>
                                    </div>
                                </div>
                            </div>

                        </div>
                    </div>


                </form>
            </md-content>
        </md-tab>
    </md-tabs>
</md-content>
</div>

